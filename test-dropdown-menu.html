<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Dropdown Menu - VidaduAcademy</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f5f5f5;
        }
        .test-container { 
            background: white; 
            padding: 30px; 
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .instructions { 
            background: #e3f2fd; 
            padding: 20px; 
            border-radius: 6px;
            border-left: 4px solid #2196f3;
            margin-bottom: 20px;
        }
        .success { color: #4caf50; font-weight: bold; }
        .error { color: #f44336; font-weight: bold; }
        .warning { color: #ff9800; font-weight: bold; }
        iframe { 
            width: 100%; 
            height: 80vh; 
            border: 2px solid #ddd; 
            border-radius: 8px;
            background: white;
        }
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-online { background: #4caf50; }
        .status-offline { background: #f44336; }
        .checklist {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 6px;
            border: 1px solid #e9ecef;
        }
        .checklist li {
            margin: 8px 0;
            padding: 5px 0;
        }
    </style>
</head>
<body>
    <h1>🔧 Test Dropdown Menu - Theme Toggle</h1>
    
    <div class="instructions">
        <h3>📋 Testovací postup pre dropdown menu:</h3>
        <ol>
            <li><strong>Nájdite theme toggle tlačidlo</strong> v hornej navigácii (ikona slnka/mesiaca/počítača)</li>
            <li><strong>Kliknite na šípku</strong> vedľa theme toggle tlačidla (dropdown trigger)</li>
            <li><strong>Dropdown menu by sa malo otvoriť</strong> a zostať otvorené</li>
            <li><strong>Testujte možnosti:</strong> Svetlý / Tmavý / Systémový</li>
            <li><strong>Menu by sa malo zatvoriť</strong> po výbere alebo kliku mimo</li>
        </ol>
    </div>

    <div class="test-container">
        <h2>🌐 Server Status</h2>
        <div id="serverStatus">
            <span class="status-indicator status-offline"></span>
            Checking server connection...
        </div>
    </div>

    <div class="test-container">
        <h2>✅ Dropdown Test Checklist</h2>
        <div class="checklist">
            <ul>
                <li>☐ Theme toggle tlačidlo je viditeľné</li>
                <li>☐ Dropdown šípka je vedľa tlačidla</li>
                <li>☐ Klik na šípku otvorí dropdown</li>
                <li>☐ Dropdown zostáva otvorený po kliknutí</li>
                <li>☐ Možnosti: Svetlý / Tmavý / Systémový</li>
                <li>☐ Aktívna možnosť je zvýraznená</li>
                <li>☐ Klik na možnosť zmení tému</li>
                <li>☐ Menu sa zatvorí po výbere</li>
                <li>☐ Menu sa zatvorí pri kliku mimo</li>
                <li>☐ Animácie sú plynulé</li>
            </ul>
        </div>
    </div>

    <div class="test-container">
        <h2>🖥️ Live Test Environment</h2>
        <p>Testujte dropdown menu priamo v iframe nižšie:</p>
        <iframe 
            src="http://localhost:3000" 
            title="VidaduAcademy Live Test"
            id="testFrame"
        ></iframe>
    </div>

    <div class="test-container">
        <h2>🐛 Možné problémy a riešenia</h2>
        <ul>
            <li><strong>Dropdown sa hneď zatvorí:</strong> Skontrolujte event.stopPropagation() a click handling</li>
            <li><strong>Tlačidlo nereaguje:</strong> Skontrolujte z-index a pointer-events</li>
            <li><strong>Animácie nefungujú:</strong> Skontrolujte CSS transitions</li>
            <li><strong>Nesprávne farby:</strong> Skontrolujte dark mode CSS štýly</li>
        </ul>
    </div>

    <script>
        // Test server connection
        function checkServer() {
            const statusDiv = document.getElementById('serverStatus');
            
            fetch('http://localhost:3000')
                .then(response => {
                    if (response.ok) {
                        statusDiv.innerHTML = `
                            <span class="status-indicator status-online"></span>
                            <span class="success">✅ Server online na http://localhost:3000</span>
                        `;
                    } else {
                        statusDiv.innerHTML = `
                            <span class="status-indicator status-offline"></span>
                            <span class="error">❌ Server error (${response.status})</span>
                        `;
                    }
                })
                .catch(error => {
                    statusDiv.innerHTML = `
                        <span class="status-indicator status-offline"></span>
                        <span class="error">❌ Server offline alebo nedostupný</span>
                    `;
                });
        }

        // Check server on load
        checkServer();

        // Refresh iframe every 10 seconds for testing
        setInterval(() => {
            const iframe = document.getElementById('testFrame');
            iframe.src = iframe.src;
        }, 30000);
    </script>
</body>
</html>
